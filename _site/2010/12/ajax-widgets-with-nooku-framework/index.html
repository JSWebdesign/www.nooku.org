<!DOCTYPE html>
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width" />
    <title>AJAX Widgets with Nooku Framework</title>
    <meta name="description" content="{ page.description }}" />
    <link rel="shortcut icon" type="image/ico" href="/assets/img/favicon.ico" />
    <link rel="stylesheet" href="/assets/css/default.css"> 
    <script type="text/javascript" src="//use.typekit.net/eow5fmw.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    
</head>
<body>

<div id="wrapper">
    <div class="section header">
        <div class="container container-centered">
            <div class="row">
                <div class="brand col-sm-6">
                    <a href="http://www.nooku.org"><img src="/assets/img/logo.jpg" height="60px" width="123px" /></a>
                </div>
                <div class="col-sm-6">
                    <div class="navbar" role="navigation">
                        <div class="container-fluid">
                            <ul class="nav navbar-nav">
                                
                                <li >
                                    <a href="/">About</a>
                                </li>
                                
                                <li >
                                    <a href="/manifesto">Manifesto</a>
                                </li>
                                
                                <li >
                                    <a href="/blog">Blog</a>
                                </li>
                                
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    
    <div class="section blog">
    <div class="container">
      <div class="row">
        <div class="col-sm-9">
         <h2>
              AJAX Widgets with Nooku Framework
            </h2>
            <h3 class="text-muted">
              01 December 2010
              </h3>
          <p>We have been claiming for quite a while now that Nooku Framework helps you to write less code. A lot less! So time to put our money where our mouth is and show you a little example.</p>

<p><a href="http://www.flickr.com/photos/nooku/5221979616/" title="Part of the Harbour Dashboard by Nooku, on Flickr"><img src="http://farm6.static.flickr.com/5010/5221979616_c96473e5fa.jpg" alt="Part of the Harbour Dashboard" width="500" height="286" /></a></p>

<p>Today’s topic: Building an AJAX widget with just a few lines of code, actually just one line. We will be using a new simple technique called overlays. You don’t believe me? Watch and learn!<br />
<!--more--></p>

<h3 id="what-are-overlays">What are Overlays?</h3>

<p>Before we dive into the one line of code, let me explain a little bit about overlays. The term “Overlay” comes from the <a href="https://developer.mozilla.org/en/xul_overlays">Mozilla XUL</a>. In Nooku Framework we have implemented our own inspired version that allows you to turn any view into a widget. Yes, you are reading that right: ANY view, not such your own, any view of any component can be ‘widgetised’.</p>

<p>To create an overlay in Nooku Framework you only need two things:</p>

<ul>
  <li>the URL of the view your are ‘widgetising’;</li>
  <li>the ID of the HTML element to overlay.</li>
</ul>

<p>It’s really simple, let’s look at a little example using our beloved <a href="http://www.assembla.com/wiki/show/nooku-examples/com_harbour">Harbour</a> component.</p>

<h3 id="overlays-in-the-harbour-dashboard">Overlays in the Harbour dashboard</h3>

<p>Harbour’s dashboard has two tabs in the right sidebar to show boats and ports that are in draft (not all information has been added yet). Currently both are loaded using a PHP call. We’re going to ‘widgetise’ this by using an overlay.</p>

<p>Here’s the PHP code rendering the unfinished boats tab contents:</p>

<pre name="code" class="php:nocontrols">&lt;?= KFactory::get('admin::com.harbour.controller.boats')
     -&gt;sort('modified_on')
     -&gt;draft(1)
     -&gt;limit(50)
     -&gt;layout('widget')
     -&gt;browse() ?&gt;</pre>

<p>And here’s what it looks like as an overlay:</p>

<pre name="code" class="php:nocontrols">&lt;?= @overlay(array('uri' =&gt; @route('option=com_harbour&amp;view=ports&amp;layout=widget&amp;draft=1&amp;limit=5#draft-ports'))) ?&gt;</pre>

<p>That’s it! How does work?</p>

<ul>
  <li>The o<em>ption=com_harbour&amp;view=ports&amp;layout=widget</em> defines the component and view we are rendering, in this case we are rendering a list of ports.</li>
  <li>The <em>draft=1&amp;limit=5</em> defines the state of the view. In this case we are getting all the port drafts and we only retrieve the first 5</li>
  <li>The <em>#draft-ports</em> fragment defines the ID of the HTML element that we’re fetching from the ajax request. Nooku Framework does this behind the scenes for you. This allows you to ‘widgetise’ only a part of the page your are fetching.</li>
</ul>

<p>Now you have learned how “Port drafts” is transformed into an ajax widget, the code is so tiny you already know how to do the same thing to “Boat drafts”.</p>

<p>That’s it, simple right? You see, we are serious when we say Nooku Framework really makes you write less code. Why are you still reading? Go play with it already!</p>


        </div>
        <div class="col-sm-3">
           <h3>Archives</h3>
          <ul>


  
   
  
    <li><a href="/2013/03">March 2013</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2012/09">September 2012</a></li>
     
  

  
   
  
    <li><a href="/2012/06">June 2012</a></li>
     
  

  
   
  
    <li><a href="/2012/05">May 2012</a></li>
     
  

  
   
  
    <li><a href="/2012/04">April 2012</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2012/03">March 2012</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2012/01">January 2012</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2011/12">December 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/11">November 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/10">October 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/09">September 2011</a></li>
     
  

  
   
  
    <li><a href="/2011/08">August 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/07">July 2011</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2011/05">May 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/04">April 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/03">March 2011</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2011/02">February 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2011/01">January 2011</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2010/12">December 2010</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2010/11">November 2010</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2010/10">October 2010</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2010/09">September 2010</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2010/08">August 2010</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2010/07">July 2010</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2010/06">June 2010</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2010/05">May 2010</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2010/04">April 2010</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2010/03">March 2010</a></li>
     
  

  
   
  
    <li><a href="/2009/11">November 2009</a></li>
     
  

  
   
  
    <li><a href="/2009/09">September 2009</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2009/08">August 2009</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2009/07">July 2009</a></li>
     
  

  
   
  
    <li><a href="/2009/06">June 2009</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2009/05">May 2009</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2009/04">April 2009</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2009/03">March 2009</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2008/11">November 2008</a></li>
     
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2008/09">September 2008</a></li>
     
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  

  
   
  
    <li><a href="/2008/08">August 2008</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2008/06">June 2008</a></li>
     
  

  
   
  
    <li><a href="/2008/05">May 2008</a></li>
     
  

  
   
  

  
   
  
    <li><a href="/2008/04">April 2008</a></li>
     
  

  
   
  

  
   
  

</ul>
        </div>
      </div>


  

    </div>
</div>

    <div class="section footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <p>
                        <a href="http://www.facebook.com/nooku.org">Facebook</a> |
                        <a href="http://www.twitter.com/nooku">Twitter</a> |
                        <a href="http://www.github.com/nooku">Github</a> |
                        <a href="http://feeds.nooku.org/blog">RSS</a>
                    </p>
                </div>
                <div class="copyright col-sm-6">
                    <p>Copyright now <a href="http://www.timble.net">Timble</a></p>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>