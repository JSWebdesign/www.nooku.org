<!DOCTYPE html>
<!--[if IE 8]> <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>AJAX Widgets with Nooku Framework</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta content="text/html; charset=utf-8" http-equiv="content-type"  />
    <meta name="description" content="Open Source PHP Framework for Web Applications. A project for developers integrators and hackers alike. Through collaboration we innovate and grow Nooku." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name=”mobile-web-app-capable” content=”yes” />
    <meta name="apple-mobile-web-app-title" content="Nooku">

    <link rel="shortcut icon" type="image/ico" href="http://www.nooku.org/images/favicon.ico" />
    <link rel="shortcut icon" type="image/png" href="http://www.nooku.org/images/xtouch-icon.png" />
    <link rel="apple-touch-icon" type="image/png" href="http://www.nooku.org/images/xtouch-icon.png"/>
    <link rel="stylesheet" href="/assets/css/prism.css" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,400,300,700' type='text/css">
    <link rel="stylesheet" href="/css/style.css">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-214238-5', 'nooku.org');
        ga('send', 'pageview');

    </script>
</head>
<body>

<div id="wrapper">
    <div class="section header">
        <div class="container container-centered">
            <div class="row">
                <div class="brand col-sm-5">
                    <a href="/"><img src="/assets/img/logo.jpg" height="60px" width="123px" /></a>
                </div>
                <div class="col-sm-7">
                    <div class="navbar" role="navigation">
                        <div class="container-fluid">
                            <ul class="nav navbar-nav">
                                
                                
                                
                                <li class="" role="menuitem">
                                    <a href="/">About</a>
                                </li>
                                
                                
                                
                                <li class="" role="menuitem">
                                    <a href="/manifesto">Manifesto</a>
                                </li>
                                
                                
                                
                                <li class="active" role="menuitem">
                                    <a href="/blog">Blog</a>
                                </li>
                                
                                
                                
                                <li class="" role="menuitem">
                                    <a href="/events">Events</a>
                                </li>
                                
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="section blog">
        <div class="container">
            <div class="row">
                <div class="col-sm-9">
                    <article>
                        <header>
                            <h1>
                                AJAX Widgets with Nooku Framework
                            </h1>
                            <h3 class="text-muted">
                                01 December 2010 by Stian
                            </h3>
                        </header>
          
                        <p>We have been claiming for quite a while now that Nooku Framework helps you to write less code. A lot less! So time to put our money where our mouth is and show you a little example.</p>

<p><a href="http://www.flickr.com/photos/nooku/5221979616/" title="Part of the Harbour Dashboard by Nooku, on Flickr"><img src="http://farm6.static.flickr.com/5010/5221979616_c96473e5fa.jpg" alt="Part of the Harbour Dashboard" width="500" height="286" /></a></p>

<p>Today’s topic: Building an AJAX widget with just a few lines of code, actually just one line. We will be using a new simple technique called overlays. You don’t believe me? Watch and learn!<br />
<!--more--></p>

<h3 id="what-are-overlays">What are Overlays?</h3>

<p>Before we dive into the one line of code, let me explain a little bit about overlays. The term “Overlay” comes from the <a href="https://developer.mozilla.org/en/xul_overlays">Mozilla XUL</a>. In Nooku Framework we have implemented our own inspired version that allows you to turn any view into a widget. Yes, you are reading that right: ANY view, not such your own, any view of any component can be ‘widgetised’.</p>

<p>To create an overlay in Nooku Framework you only need two things:</p>

<ul>
  <li>the URL of the view your are ‘widgetising’;</li>
  <li>the ID of the HTML element to overlay.</li>
</ul>

<p>It’s really simple, let’s look at a little example using our beloved <a href="http://www.assembla.com/wiki/show/nooku-examples/com_harbour">Harbour</a> component.</p>

<h3 id="overlays-in-the-harbour-dashboard">Overlays in the Harbour dashboard</h3>

<p>Harbour’s dashboard has two tabs in the right sidebar to show boats and ports that are in draft (not all information has been added yet). Currently both are loaded using a PHP call. We’re going to ‘widgetise’ this by using an overlay.</p>

<p>Here’s the PHP code rendering the unfinished boats tab contents:</p>

<pre name="code" class="php:nocontrols">&lt;?= KFactory::get('admin::com.harbour.controller.boats')
     -&gt;sort('modified_on')
     -&gt;draft(1)
     -&gt;limit(50)
     -&gt;layout('widget')
     -&gt;browse() ?&gt;</pre>

<p>And here’s what it looks like as an overlay:</p>

<pre name="code" class="php:nocontrols">&lt;?= @overlay(array('uri' =&gt; @route('option=com_harbour&amp;view=ports&amp;layout=widget&amp;draft=1&amp;limit=5#draft-ports'))) ?&gt;</pre>

<p>That’s it! How does work?</p>

<ul>
  <li>The o<em>ption=com_harbour&amp;view=ports&amp;layout=widget</em> defines the component and view we are rendering, in this case we are rendering a list of ports.</li>
  <li>The <em>draft=1&amp;limit=5</em> defines the state of the view. In this case we are getting all the port drafts and we only retrieve the first 5</li>
  <li>The <em>#draft-ports</em> fragment defines the ID of the HTML element that we’re fetching from the ajax request. Nooku Framework does this behind the scenes for you. This allows you to ‘widgetise’ only a part of the page your are fetching.</li>
</ul>

<p>Now you have learned how “Port drafts” is transformed into an ajax widget, the code is so tiny you already know how to do the same thing to “Boat drafts”.</p>

<p>That’s it, simple right? You see, we are serious when we say Nooku Framework really makes you write less code. Why are you still reading? Go play with it already!</p>


                    
                        <hr>
                        <section>
                            <div id="disqus_thread"></div>
                            <script type="text/javascript">
                                /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
                                var disqus_shortname = 'nooku'; // required: replace example with your forum shortname
                                var disqus_identifier = '182430666';
                                var disqus_url = 'http://blog.nooku.org/blog/2010/12/ajax-widgets-with-nooku-framework/';

                                /* * * DON'T EDIT BELOW THIS LINE * * */
                                (function() {
                                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                                    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                                })();
                            </script>
                            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                        </section>
                    </article>
                </div>
                <div class="col-sm-3">
                    <ul>
                        
                            
                            
                            
                                <li><a href="/blog/2014/07">July 2014</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2014/06">June 2014</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2013/03">March 2013</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2012/09">September 2012</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2012/06">June 2012</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2012/05">May 2012</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2012/04">April 2012</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2012/03">March 2012</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2012/01">January 2012</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/12">December 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/11">November 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/10">October 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/09">September 2011</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/08">August 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/07">July 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/05">May 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/04">April 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/03">March 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/02">February 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2011/01">January 2011</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/12">December 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/11">November 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/10">October 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/09">September 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/08">August 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/07">July 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/06">June 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/05">May 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/04">April 2010</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2010/03">March 2010</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/11">November 2009</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/09">September 2009</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/08">August 2009</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/07">July 2009</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/06">June 2009</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/05">May 2009</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/04">April 2009</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2009/03">March 2009</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2008/11">November 2008</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2008/09">September 2008</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2008/08">August 2008</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2008/06">June 2008</a></li>
                                 
                            
                        
                            
                            
                            
                                <li><a href="/blog/2008/05">May 2008</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                                <li><a href="/blog/2008/04">April 2008</a></li>
                                 
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                            
                            
                            
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>

<div class="section footer">
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <p>
                    <a href="http://www.facebook.com/nooku.org">Facebook</a> |
                    <a href="http://www.twitter.com/nooku">Twitter</a> |
                    <a href="http://www.github.com/nooku">Github</a> |
                    <a href="/blog/rss.xml">RSS</a>
                </p>
            </div>
            <div class="copyright col-sm-6">
                <p>Copyright now <a href="http://www.timble.net">Timble</a></p>
            </div>
        </div>
    </div>
</div>
</div>
<script src="/assets/js/prism.js"></script>
</body>
</html>