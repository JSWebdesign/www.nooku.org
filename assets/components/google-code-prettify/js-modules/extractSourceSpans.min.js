function extractSourceSpans(e,r){var a=/(?:^|\s)nocode(?:\s|$)/;var n=[];var s=0;var t=[];var c=0;function o(e){switch(e.nodeType){case 1:if(a.test(e.className)){return}for(var i=e.firstChild;i;i=i.nextSibling){o(i)}var l=e.nodeName.toLowerCase();if("br"===l||"li"===l){n[c]="\n";t[c<<1]=s++;t[c++<<1|1]=e}break;case 3:case 4:var f=e.nodeValue;if(f.length){if(!r){f=f.replace(/[ \t\r\n]+/g," ")}else{f=f.replace(/\r\n?/g,"\n")}n[c]=f;t[c<<1]=s;s+=f.length;t[c++<<1|1]=e}break}}o(e);return{sourceCode:n.join("").replace(/\n$/,""),spans:t}}